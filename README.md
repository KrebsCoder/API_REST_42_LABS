## **What is this project**

This project is my first API and a CLI, both of them were written in C

---
## **Built with**

- <a href="https://www.notion.so/">Notion</a>
- <a href="https://trello.com/">Trello</a>
- <a href="https://code.visualstudio.com/">Visual Studio Code</a>
- <a href="https://mongoose.ws/">Mongoose</a>
- <a href="https://insomnia.rest/">Insomnia</a>
- <a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">C</a>
- <a href="https://www.docker.com/">Docker</a>
- <a href="https://www.gnu.org/software/make/">Make</a>
- <a href="https://www.mysql.com/">MySQL</a>
---
## **How to run my API**

- You will need to have docker installed on your machine to run this api, you can type this command:
```
sudo snap install docker
```

- Open your <a href="https://www.w3schools.com/whatis/whatis_cli.asp">CLI</a> and type the command as follows: 
```
git clone https://github.com/KrebsCoder/API_REST_42_LABS.git
```

- Being in the API directory, you can build the application using the following command:
```
sudo docker build -t api:latest .
```

- After the docker build, run the following command:
```
sudo docker run -v /home/krebscoder/42labs/api/logs/log.log:/home/api/logs/log.log --env-file db.env -p 8000:8000 api
```
Note: you should edit the /home/user path to match yours

- Now you just need to make a GET request to **http://localhost:8000/** or **http://localhost:8000/cartoon** and its going to return a json response.

- To make a GET request, you can use <a href="https://www.postman.com/">Postman</a> or <a href="https://insomnia.rest/">Insomnia</a>;
---

## Observation about the API database

- Unfortunately the database on the cloud that i am using for this project is not going to be up for too long, so you can edit the <a href="https://github.com/KrebsCoder/API_REST_42_LABS/blob/main/api/src/mysql.c">mysql.c</a> file and change the mysql_real_connect function to work on a localhost mysql.
---
## Endpoints

- **/** - just a simple json responde
- **/cartoon** - returns a json with a few cartoons info that were extracted from a mysql database.
- An example of /cartoon endpoint: 
```JSON
{
	"id": "1",
	"name": "tom and jerry",
	"year": "1940",
	"genre": "humor",
	"duration": "8 minutes",
	"episodes": "162"
}

```
---
## CLI

The CLI used on this project, is built to consume the log file generated by the API.

- To compile, enter the <a href="https://github.com/KrebsCoder/API_REST_42_LABS/tree/main/cli">CLI folder</a> and type make on your bash CLI.

- After that, you can use the commands: 
```
./cli
./cli all
./cli get /
./cli get /cartoon
```
